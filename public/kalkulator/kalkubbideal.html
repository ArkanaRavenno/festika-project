<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../style.css">
  <title>Kalkulator Berat Badan Ideal ðŸ”¢</title>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f7fbfd;
    }
  
    .dropdown-visible {
      display: block !important;
    }
  
    .menu-visible {
      display: block !important;
    }

    #faqSection details {
      transition: all 0.3s ease;
    }

    #faqSection summary:hover {
      color: #047857;
    }
  </style>
</head>

<body class="bg-linear-to-br from-green-50 to-green-100 min-h-screen font-sans">
  <!--Navbar-->
  <div class="flex justify-center p-4 sticky top-0 z-50 bg-transparent dark:bg-transparent ">
    <nav class="bg-green-500 dark:bg-green-500 border-gray-200 rounded-2xl w-full md:w-4/5 shadow-xl shadow-emerald-600/50">
      <div class="flex flex-wrap items-center justify-between mx-4 p-4">
        <a href="#" class="flex items-center space-x-3 rtl:space-x-reverse">
          <img src="https://flowbite.com/docs/images/logo.svg" class="h-8" alt="Logo Sehat.In" />
          <span class="self-center text-2xl font-bold whitespace-nowrap text-white">Sehat.In</span>
        </a>
        <button id="menu-toggle-button" type="button"
          class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-white rounded-lg md:hidden hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-green-300 transition"
          aria-controls="navbar-dropdown" aria-expanded="false">
          <span class="sr-only">Open main menu</span>
          <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M1 1h15M1 7h15M1 13h15" />
          </svg>
        </button>
        <div class="hidden w-full md:block md:w-auto" id="navbar-dropdown">
          <ul
            class="font-medium flex flex-col p-3 md:p-0 mt-4 border border-green-400 rounded-xl bg-green-500 md:flex-row md:space-x-4 md:mt-0 md:border-0 md:bg-green-500">
            <li>
              <a href="../index.html"
                class="text-white rounded-lg px-4 py-2 block md:inline-block hover:bg-lime-400 transition duration-300 font-semibold"
                aria-current="page">Home</a>
            </li>
            <li class="relative">
              <button id="dropdown-toggle-button" type="button"
                class="flex items-center justify-between w-full rounded-lg px-4 py-2 font-semibold text-white hover:bg-lime-400 transition duration-300 md:w-auto">
                Kalkulator
                <svg id="dropdown-icon" class="w-4 h-4 ms-1.5 transition-transform duration-300" aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m19 9-7 7-7-7" />
                </svg>
              </button>
              <div id="dropdown-menu"
                class="absolute hidden md:mt-2 w-48 bg-emerald-500 border-gray-200 rounded-xl shadow-xl z-20 md:left-1/2 md:-translate-x-1/2">
                <ul class="p-2.5 text-sm text-white font-medium">
                  <li>
                    <a href="kalkukalorim.html" class="block p-1.5 hover:bg-green-500 rounded transition duration-200">Kalkulator
                      Kalori Makanan</a>
                  </li>
                  <li>
                    <a href="kalkukaloh.html" class="block p-1.5 hover:bg-green-500 rounded transition duration-200">Kalkulator Kalori
                      Harian</a>
                  </li>
                  <li>
                    <a href="kalkubbideal.html" class="block p-1.5 hover:bg-green-500 rounded transition duration-200">Kalkulator
                      BB Ideal</a>
                  </li>
                </ul>
              </div>
            </li>
            <li class="relative">
              <button id="program-dropdown-toggle" type="button"
                class="flex items-center justify-between w-full rounded-lg px-4 py-2 font-semibold text-white hover:bg-lime-400 transition duration-300 md:w-auto">
                Program
                <svg id="program-dropdown-icon" class="w-4 h-4 ms-1.5 transition-transform duration-300"
                  aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                  viewBox="0 0 24 24">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m19 9-7 7-7-7" />
                </svg>
              </button>
              <div id="program-dropdown-menu"
                class="absolute hidden md:mt-2 w-48 bg-emerald-500 border-gray-200 rounded-xl shadow-xl z-20 md:left-1/2 md:-translate-x-1/2">
                <ul class="p-2.5 text-sm text-white font-medium">
                  <li>
                    <a href="../program/ppolamakan.html"
                      class="block p-1.5 hover:bg-green-500 rounded transition duration-200">Program
                      Pola Makan Sehat</a>
                  </li>
                  <li>
                    <a href="../program/plativitas.html"
                      class="block p-1.5 hover:bg-green-500 rounded transition duration-200">Program Latihan berbasis
                      Aktivitas Harian</a>
                  </li>
                </ul>
              </div>
            </li>
            <li>
              <a href="../roadmap.html"
                class="text-white rounded-lg px-4 py-2 block md:inline-block hover:bg-lime-400 transition duration-300 font-semibold">Roadmap</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>
  <!--Navbar end-->

  <!--Content-->
  <div class="max-w-full w-2/5 mx-auto p-6">
    <h1 class="text-4xl font-extrabold text-center mb-8 text-green-900 drop-shadow-md">Kalkulator Berat Ideal</h1>
    <!-- Card Form -->
    <div
      class="bg-linear-to-br from-white to-green-50 shadow-2xl rounded-2xl p-8 mb-8 border-t-4 border-green-400 transform hover:scale-[1.005] transition duration-300">
      <form id="calculatorForm">
        <!-- Jenis Kelamin -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-2">Jenis Kelamin</label>
          <div class="flex space-x-4">
            <button type="button" id="maleBtn"
              class="text-white bg-linear-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-linear-to-br rounded font-medium rounded-base text-sm px-4 py-2.5 text-center leading-5 flex-1">Pria</button>
            <button type="button" id="femaleBtn"
              class="text-white bg-linear-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-linear-to-br rounded font-medium rounded-base text-sm px-4 py-2.5 text-center leading-5 flex-1">Wanita</button>
          </div>
          <input type="hidden" id="gender" name="gender" required>
        </div>
        <!-- Usia -->
        <div class="mb-4">
          <label for="age" class="block text-sm font-medium text-gray-700">Usia (tahun)</label>
          <input type="number" id="age" name="age"
            class="mt-1 block w-full px-3 py-2 border border-green-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
            required>
        </div>
        <!-- Tinggi Badan -->
        <div class="mb-4">
          <label for="height" class="block text-sm font-medium text-gray-700">Tinggi Badan (cm)</label>
          <input type="number" id="height" name="height"
            class="mt-1 block w-full px-3 py-2 border border-green-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
            required>
        </div>
        <!-- Berat Badan -->
        <div class="mb-4">
          <label for="weight" class="block text-sm font-medium text-gray-700">Berat Badan (kg)</label>
          <input type="number" id="weight" name="weight"
            class="mt-1 block w-full px-3 py-2 border border-green-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
            required>
        </div>
        <!-- Tombol Hitung -->
        <button type="submit"
          class="w-full bg-linear-to-r from-green-500 to-emerald-600 text-white py-2 px-4 rounded-xl shadow hover:from-green-600 hover:to-emerald-700 transition">Hitung</button>
      </form>
    </div>

    <!-- Card Hasil (hidden awalnya) -->
    <div id="resultCard"
      class="bg-linear-to-r from-green-200 to-green-100 shadow-2xl rounded-2xl p-8 border-l-8 border-green-600 hidden text-center transform hover:bg-green-100 transition duration-300">
      <h2 class="text-2xl font-bold mb-4 text-green-800">Berat Ideal Anda</h2>
      <p id="idealWeight" class="text-5xl font-extrabold text-green-900 animate-pulse"></p>
      <p id="bmiValue" class="text-lg text-gray-700 mt-2"></p>
      <p id="comparison" class="text-gray-600 mt-2 text-center"></p>
    </div>
  </div>
  <!-- FAQ Tips -->
  <div id="faqSection"
    class="bg-linear-to-br from-green-50 to-green-100 shadow-xl rounded-2xl p-10 hidden w-full max-w-none shadow-green-200/80">
    <h3 class="text-xl font-bold mb-4">Tips</h3>
    <div class="space-y-4">
      <details class="border-b border-gray-200 pb-2">
        <summary class="cursor-pointer font-medium">Apa yang harus dilakukan jika berat badan saya terlalu tinggi?
        </summary>
        <p class="mt-2 text-gray-600">Jika berat badan Anda lebih tinggi dari ideal, fokuslah pada pola makan sehat
          dengan
          mengurangi asupan kalori, meningkatkan aktivitas fisik seperti berjalan atau olahraga ringan, dan
          konsultasikan
          dengan dokter untuk saran yang lebih tepat.</p>
      </details>
      <details class="border-b border-gray-200 pb-2">
        <summary class="cursor-pointer font-medium">Apa yang harus dilakukan jika berat badan saya terlalu rendah?
        </summary>
        <p class="mt-2 text-gray-600">Jika berat badan Anda lebih rendah dari ideal, tingkatkan asupan nutrisi dengan
          makan makanan bergizi tinggi kalori, tambahkan camilan sehat, dan lakukan latihan kekuatan untuk membangun
          massa
          otot. Konsultasikan dengan ahli gizi jika perlu.</p>
      </details>
      <details class="border-b border-gray-200 pb-2">
        <summary class="cursor-pointer font-medium">Apakah rumus ini akurat?</summary>
        <p class="mt-2 text-gray-600">Rumus ini berdasarkan BMI (Body Mass Index) dengan target BMI yang disesuaikan
          berdasarkan usia (misalnya, lebih tinggi untuk usia lanjut). Untuk hasil yang lebih akurat, konsultasikan
          dengan profesional kesehatan, karena BMI tidak mempertimbangkan komposisi tubuh atau faktor lain seperti jenis
          kelamin secara mendalam.</p>
      </details>
    </div>
  </div>
  </div>
  <!--Content End-->

  <script>
    const menuToggleButton = document.getElementById('menu-toggle-button');
    const navbarDropdown = document.getElementById('navbar-dropdown');
    const dropdownToggleButton = document.getElementById('dropdown-toggle-button');
    const dropdownMenu = document.getElementById('dropdown-menu');
    const dropdownIcon = document.getElementById('dropdown-icon');
    const programDropdownToggleButton = document.getElementById('program-dropdown-toggle');
    const programDropdownMenu = document.getElementById('program-dropdown-menu');
    const programDropdownIcon = document.getElementById('program-dropdown-icon');
    const maleBtn = document.getElementById('maleBtn');
    const femaleBtn = document.getElementById('femaleBtn');
    const genderInput = document.getElementById('gender');
    const form = document.getElementById('calculatorForm');
    const resultCard = document.getElementById('resultCard');
    const faqSection = document.getElementById('faqSection');
    const idealWeightEl = document.getElementById('idealWeight');
    const bmiValueEl = document.getElementById('bmiValue');
    const comparisonEl = document.getElementById('comparison');

    function toggleMenu() {
      navbarDropdown.classList.toggle('hidden');
      navbarDropdown.classList.toggle('menu-visible');
    }

    function toggleDropdown(button, menu, icon) {
      menu.classList.toggle('hidden');
      menu.classList.toggle('dropdown-visible');

      if (menu.classList.contains('dropdown-visible')) {
        icon.classList.add('rotate-180');
      } else {
        icon.classList.remove('rotate-180');
      }
    }

    menuToggleButton.addEventListener('click', toggleMenu);

    dropdownToggleButton.addEventListener('click', function (event) {
      event.stopPropagation();
      toggleDropdown(dropdownToggleButton, dropdownMenu, dropdownIcon);
    });

    programDropdownToggleButton.addEventListener('click', function (event) {
      event.stopPropagation();
      toggleDropdown(programDropdownToggleButton, programDropdownMenu, programDropdownIcon);
    });

    document.addEventListener('click', function (event) {
      const isClickInsideDropdown = dropdownMenu.contains(event.target);
      const isClickOnButton = dropdownToggleButton.contains(event.target);
      const isClickInsideProgram = programDropdownMenu.contains(event.target);
      const isClickOnProgramButton = programDropdownToggleButton.contains(event.target);

      if (dropdownMenu.classList.contains('dropdown-visible') && !isClickInsideDropdown && !isClickOnButton) {
        toggleDropdown();
      }

      if (programDropdownMenu.classList.contains('dropdown-visible') && !isClickInsideProgram && !isClickOnProgramButton) {
        toggleDropdown(programDropdownToggleButton, programDropdownMenu, programDropdownIcon);
      }
    });

    window.addEventListener('resize', function () {
      if (window.innerWidth >= 768) {
        navbarDropdown.classList.remove('hidden');
        navbarDropdown.classList.remove('menu-visible');
        dropdownMenu.classList.add('hidden');
        dropdownIcon.classList.remove('rotate-180');
      } else if (!navbarDropdown.classList.contains('menu-visible')) {
        navbarDropdown.classList.add('hidden');
      }
    });

    maleBtn.addEventListener('click', () => {
      genderInput.value = 'male';
      maleBtn.classList.add('ring-2', 'ring-blue-400', 'scale-105');
      femaleBtn.classList.remove('ring-2', 'ring-pink-400', 'scale-105');
    });
    femaleBtn.addEventListener('click', () => {
      genderInput.value = 'female';
      femaleBtn.classList.add('ring-2', 'ring-pink-400', 'scale-105');
      maleBtn.classList.remove('ring-2', 'ring-blue-400', 'scale-105');
    });

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const gender = genderInput.value;
      const age = parseFloat(document.getElementById('age').value);
      const height = parseFloat(document.getElementById('height').value);
      const weight = parseFloat(document.getElementById('weight').value);
      if (!gender || !age || !height || !weight) {
        alert('Harap isi semua field!');
        return;
      }

      const heightM = height / 100;
      const bmi = weight / (heightM * heightM);

      let targetBMI;
      if (age < 18) {
        targetBMI = 21.7; // Tengah rentang untuk remaja
      } else if (age <= 65) {
        targetBMI = 22; // Dewasa muda hingga menengah
      } else {
        targetBMI = 25.5; // Lansia, rentang normal lebih tinggi
      }

      const idealWeight = targetBMI * (heightM * heightM);

      idealWeightEl.textContent = `${idealWeight.toFixed(1)} kg`;
      bmiValueEl.textContent = `BMI Anda: ${bmi.toFixed(1)} (Target: ${targetBMI})`;

      if (weight > idealWeight + 5) {
        comparisonEl.textContent = 'Anda terlalu gemuk. Lihat tips di bawah.';
      } else if (weight < idealWeight - 5) {
        comparisonEl.textContent = 'Anda terlalu kurus. Lihat tips di bawah.';
      } else {
        comparisonEl.textContent = 'Berat badan Anda ideal!';
      }

      resultCard.classList.remove('hidden');
      faqSection.classList.remove('hidden');
    });
  </script>
</body>

</html>