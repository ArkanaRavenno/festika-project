<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link rel="stylesheet" href="../style.css">
  <title>Program Pola Makan Sehat - Sehat.In</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          animation: {
            'bounce-slow': 'bounce 3s infinite',
            'fade-in-up': 'fadeInUp 0.5s ease-out forwards',
          },
          keyframes: {
            fadeInUp: {
              '0%': { opacity: '0', transform: 'translateY(20px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' },
            }
          }
        }
      }
    }
  </script>

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #ecfccb;
      background-image: radial-gradient(#86efac 1px, transparent 1px);
      background-size: 20px 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden; /* Mencegah scroll ke samping di HP */
    }

    .main-content {
      flex: 1;
      width: 100%;
    }

    .dropdown-visible { display: block !important; }
    .menu-visible { display: block !important; }

    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #f0fdf4; }
    ::-webkit-scrollbar-thumb { background: #22c55e; border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: #15803d; }

    /* --- LOGIKA GARIS TIMELINE RESPONSIF --- */
    .roadmap-container::before {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;
      width: 4px;
      background: #bef264;
      z-index: 0;
      border-radius: 99px;
      
      /* DEFAULT (MOBILE): Garis di Kiri */
      left: 20px; 
      transform: translateX(-50%);
    }
    
    /* DESKTOP (MD ke atas): Garis kembali ke Tengah */
    @media (min-width: 768px) {
      .roadmap-container::before {
        left: 50%;
      }
    }
  </style>
</head>

<body>
  <div class="main-content">
    
    <div class="flex justify-center p-4 sticky top-0 z-50 bg-transparent dark:bg-transparent">
      <nav class="bg-green-500 dark:bg-green-500 border-gray-200 rounded-2xl w-full md:w-4/5 shadow-xl shadow-emerald-600/50 transition-all duration-300">
        <div class="flex flex-wrap items-center justify-between mx-4 p-4">
          <a href="#" class="flex items-center space-x-3 rtl:space-x-reverse">
            <img src="../img/footer-navbar/Logo-SehatIn.png" class="h-8 md:h-10" alt="Logo Sehat.In" />
            <span class="self-center text-xl md:text-2xl font-bold whitespace-nowrap text-white">Sehat.In</span>
          </a>
          <button id="menu-toggle-button" type="button"
            class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-white rounded-lg md:hidden hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-green-300 transition"
            aria-controls="navbar-dropdown" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M1 1h15M1 7h15M1 13h15" />
            </svg>
          </button>
          <div class="hidden w-full md:block md:w-auto" id="navbar-dropdown">
            <ul class="font-medium flex flex-col p-3 md:p-0 mt-4 border border-green-400 rounded-xl bg-green-500 md:flex-row md:space-x-4 md:mt-0 md:border-0 md:bg-green-500">
              <li>
                <a href="../index.html"
                  class="text-white rounded-lg px-4 py-2 block md:inline-block hover:bg-lime-400 transition duration-300 font-semibold"
                  aria-current="page">Home</a>
              </li>
              <li class="relative">
                <button id="dropdown-toggle-button" type="button"
                  class="flex items-center justify-between w-full rounded-lg px-4 py-2 font-semibold text-white hover:bg-lime-400 transition duration-300 md:w-auto">
                  Kalkulator
                  <svg id="dropdown-icon" class="w-4 h-4 ms-1.5 transition-transform duration-300" aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="m19 9-7 7-7-7" />
                  </svg>
                </button>
                <div id="dropdown-menu"
                  class="absolute hidden md:mt-2 w-48 bg-emerald-500 border-gray-200 rounded-xl shadow-xl z-20 md:left-1/2 md:-translate-x-1/2">
                  <ul class="p-2.5 text-sm text-white font-medium">
                    <li>
                      <a href="../kalkulator/kalkukalorim.html"
                        class="block p-1.5 hover:bg-green-500 rounded transition duration-200">Kalkulator Kalori Makanan</a>
                    </li>
                    <li>
                      <a href="../kalkulator/kalkukaloh.html"
                        class="block p-1.5 hover:bg-green-500 rounded transition duration-200">Kalkulator Kalori Harian</a>
                    </li>
                    <li>
                      <a href="../kalkulator/kalkubbideal.html"
                        class="block p-1.5 hover:bg-green-500 rounded transition duration-200">Kalkulator BB Ideal</a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="relative">
                <button id="program-dropdown-toggle" type="button"
                  class="flex items-center justify-between w-full rounded-lg px-4 py-2 font-semibold text-white hover:bg-lime-400 transition duration-300 md:w-auto">
                  Program
                  <svg id="program-dropdown-icon" class="w-4 h-4 ms-1.5 transition-transform duration-300"
                    aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                    viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="m19 9-7 7-7-7" />
                  </svg>
                </button>
                <div id="program-dropdown-menu"
                  class="absolute hidden md:mt-2 w-48 bg-emerald-500 border-gray-200 rounded-xl shadow-xl z-20 md:left-1/2 md:-translate-x-1/2">
                  <ul class="p-2.5 text-sm text-white font-medium">
                    <li>
                      <a href="ppolamakan.html"
                        class="block p-1.5 hover:bg-green-500 rounded transition duration-200">Program Pola Makan Sehat</a>
                    </li>
                    <li>
                      <a href="plativitas.html"
                        class="block p-1.5 hover:bg-green-500 rounded transition duration-200">Program Latihan berbasis Aktivitas Harian</a>
                    </li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </div>

    <div class="max-w-6xl w-full mx-auto px-6 py-10">
      
      <div class="text-center mb-12 animate-fade-in-up">
        <h1 class="text-3xl md:text-4xl font-bold text-green-600 mb-4">
          Program <span class="text-lime-600">Pola Makan Sehat</span>
        </h1>
        <p class="text-gray-600 max-w-2xl mx-auto text-sm md:text-base">
          Nutrisi adalah kunci kesehatan jangka panjang. Pilih kelompok usia Anda untuk melihat rekomendasi gizi yang dipersonalisasi.
        </p>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10" id="age-cards">
      </div>

      <div id="empty-state" class="flex flex-col items-center justify-center py-12 bg-white/80 backdrop-blur-sm border-2 border-dashed border-green-300 rounded-2xl animate-fade-in-up">
        <div class="bg-lime-100 p-4 rounded-full mb-4 animate-bounce-slow">
          <svg class="w-10 h-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
          </svg>
        </div>
        <h3 class="text-xl font-bold text-green-700 mb-2">Pilih Kelompok Usia</h3>
        <p class="text-gray-500 text-center px-4">Klik salah satu kartu usia di atas untuk melihat panduan gizi.</p>
      </div>

      <div id="roadmap" class="hidden mt-8 transition-all duration-500">
        
        <div class="text-center mb-10">
          <h2 class="text-2xl font-bold text-green-700" id="roadmap-title"></h2>
          <span class="inline-block w-24 h-1 bg-lime-400 rounded mt-2"></span>
        </div>

        <div class="roadmap-container relative py-4">
          <div id="roadmap-steps" class="space-y-8 md:space-y-12 relative z-10">
            </div>
        </div>

        <div class="mt-12 p-4 bg-green-50 border-l-4 border-lime-500 rounded-r-lg text-sm text-gray-600">
          <strong>Sumber Referensi:</strong> <span id="source-citation">WHO Guidelines & Kemenkes RI</span>
        </div>

      </div>
    </div>
  </div>

  <footer class="bg-green-500 text-white mt-10 shadow-inner">
    <div class="w-11/12 mx-auto py-8">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4 md:gap-0">
        <div class="text-center md:text-left">
          <p class="text-sm font-medium">
            &copy; 2025 Sehat.In. All Rights Reserved.
          </p>
        </div>
  
        <div class="hidden md:block">
          <p class="text-base font-semibold">
            Pahami Tubuhmu, Mulai Transformasi Idealmu.
          </p>
        </div>
  
        <div class="flex items-center space-x-4">
          <a href="#" target="_blank" rel="noopener noreferrer"
            class="transition-all duration-300 hover:scale-110 hover:drop-shadow-[0_0_5px_rgba(255,255,255,0.7)]">
            <img src="../img/footer-navbar/github.png" alt="GitHub" class="h-6 w-6">
          </a>
          <a href="#" target="_blank" rel="noopener noreferrer"
            class="transition-all duration-300 hover:scale-110 hover:drop-shadow-[0_0_5px_rgba(255,255,255,0.7)]">
            <img src="../img/footer-navbar/gitlab.png" alt="GitLab" class="h-6 w-6">
          </a>
          <a href="#" target="_blank" rel="noopener noreferrer"
            class="transition-all duration-300 hover:scale-110 hover:drop-shadow-[0_0_5px_rgba(255,255,255,0.7)]">
            <img src="../img/footer-navbar/in.png" alt="LinkedIn" class="h-6 w-6">
          </a>
          <a href="#" target="_blank" rel="noopener noreferrer"
            class="transition-all duration-300 hover:scale-110 hover:drop-shadow-[0_0_5px_rgba(255,255,255,0.7)]">
            <img src="../img/footer-navbar/ig.png" alt="Instagram" class="h-6 w-6">
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // --- 1. NAVBAR LOGIC (ASLI) ---
    const menuToggleButton = document.getElementById('menu-toggle-button');
    const navbarDropdown = document.getElementById('navbar-dropdown');
    const dropdownToggleButton = document.getElementById('dropdown-toggle-button');
    const dropdownMenu = document.getElementById('dropdown-menu');
    const dropdownIcon = document.getElementById('dropdown-icon');
    const programDropdownToggleButton = document.getElementById('program-dropdown-toggle');
    const programDropdownMenu = document.getElementById('program-dropdown-menu');
    const programDropdownIcon = document.getElementById('program-dropdown-icon');

    function toggleMenu() {
      navbarDropdown.classList.toggle('hidden');
      navbarDropdown.classList.toggle('menu-visible');
    }

    function toggleDropdown(button, menu, icon) {
      menu.classList.toggle('hidden');
      menu.classList.toggle('dropdown-visible');

      if (menu.classList.contains('dropdown-visible')) {
        icon.classList.add('rotate-180');
      } else {
        icon.classList.remove('rotate-180');
      }
    }

    menuToggleButton.addEventListener('click', toggleMenu);

    dropdownToggleButton.addEventListener('click', function (event) {
      event.stopPropagation();
      toggleDropdown(dropdownToggleButton, dropdownMenu, dropdownIcon);
    });

    programDropdownToggleButton.addEventListener('click', function (event) {
      event.stopPropagation();
      toggleDropdown(programDropdownToggleButton, programDropdownMenu, programDropdownIcon);
    });

    document.addEventListener('click', function (event) {
      const isClickInsideDropdown = dropdownMenu.contains(event.target);
      const isClickOnButton = dropdownToggleButton.contains(event.target);
      const isClickInsideProgram = programDropdownMenu.contains(event.target);
      const isClickOnProgramButton = programDropdownToggleButton.contains(event.target);

      if (dropdownMenu.classList.contains('dropdown-visible') && !isClickInsideDropdown && !isClickOnButton) {
        toggleDropdown(dropdownToggleButton, dropdownMenu, dropdownIcon);
      }

      if (programDropdownMenu.classList.contains('dropdown-visible') && !isClickInsideProgram && !isClickOnProgramButton) {
        toggleDropdown(programDropdownToggleButton, programDropdownMenu, programDropdownIcon);
      }
    });

    window.addEventListener('resize', function () {
      if (window.innerWidth >= 768) {
        navbarDropdown.classList.remove('hidden');
        navbarDropdown.classList.remove('menu-visible');
        dropdownMenu.classList.add('hidden');
        dropdownIcon.classList.remove('rotate-180');
      } else if (!navbarDropdown.classList.contains('menu-visible')) {
        navbarDropdown.classList.add('hidden');
      }
    });

    // --- 2. DATA ROADMAP ---
    const roadmaps = {
      anak: {
        title: "Program Gizi Anak (0-12 Tahun)",
        source: "WHO Infant Feeding & Kemenkes RI (Isi Piringku)",
        steps: [
          { title: "Asupan Kalsium & Vitamin D", description: "Sangat krusial untuk pertumbuhan tulang. Target: 2-3 porsi susu/yogurt per hari. Jika alergi sapi, gunakan susu nabati yang difortifikasi." },
          { title: "Piring Warna-Warni (Rainbow Plate)", description: "Pastikan minimal 3 warna sayur/buah dalam sehari (misal: Wortel, Bayam, Pisang) untuk variasi mikronutrien." },
          { title: "Batasi Gula Tambahan", description: "Hindari minuman manis kemasan. Gula berlebih dapat menghambat hormon pertumbuhan dan menyebabkan karies gigi." },
          { title: "Protein untuk Pertumbuhan", description: "Telur dan Ikan adalah sumber terbaik. Telur mengandung kolin untuk perkembangan otak anak." },
          { title: "Sarapan Bergizi", description: "Jangan lewatkan sarapan. Karbohidrat kompleks (Oatmeal/Roti Gandum) memberi energi fokus belajar di sekolah." }
        ]
      },
      remaja: {
        title: "Program Gizi Remaja (13-19 Tahun)",
        source: "WHO Adolescent Nutrition & FAO",
        steps: [
          { title: "Zat Besi & Protein", description: "Kebutuhan meningkat pesat saat pubertas, terutama remaja putri (menstruasi). Perbanyak daging merah tanpa lemak, bayam, dan hati ayam." },
          { title: "Kalori Berkualitas", description: "Remaja aktif butuh 2200-3000 kkal. Hindari 'Kalori Kosong' (Junk Food). Pilih Alpukat, Kacang-kacangan, dan Nasi Merah." },
          { title: "Hidrasi Optimal", description: "Ganti soda dengan air putih. Minuman manis adalah penyebab utama obesitas dini dan jerawat pada remaja." },
          { title: "Kalsium Tulang Puncak", description: "Masa remaja adalah kesempatan terakhir menabung kepadatan tulang. Konsumsi Keju, Yogurt, atau Tahu." },
          { title: "Camilan Sehat", description: "Ganti keripik dengan buah potong atau smoothies. Ini menjaga mood stabil saat belajar." }
        ]
      },
      dewasa: {
        title: "Program Gizi Dewasa (20-64 Tahun)",
        source: "Harvard Healthy Eating Plate",
        steps: [
          { title: "Komposisi 'Piring T' ", description: "Isi 1/2 piring dengan Sayuran, 1/4 Protein, 1/4 Karbohidrat Kompleks. Ini rumus standar menjaga berat badan ideal." },
          { title: "Lemak Tak Jenuh", description: "Ganti minyak goreng sawit dengan minyak zaitun, atau konsumsi Ikan Salmon & Alpukat untuk kesehatan jantung." },
          { title: "Serat Tinggi (Fiber)", description: "Minimal 25-30g serat per hari dari biji-bijian dan sayur. Mencegah diabetes tipe 2 dan kolesterol tinggi." },
          { title: "Batasi Garam (Sodium)", description: "Maksimal 1 sendok teh garam per hari. Kelebihan garam memicu hipertensi di usia produktif." },
          { title: "Kontrol Porsi Malam", description: "Hindari makan berat 3 jam sebelum tidur. Metabolisme melambat di malam hari, memicu penumpukan lemak." }
        ]
      },
      tua: {
        title: "Program Gizi Lansia (65+ Tahun)",
        source: "National Institute on Aging (USA) & Kemenkes Lansia",
        steps: [
          { title: "Padat Nutrisi, Rendah Kalori", description: "Metabolisme melambat, kurangi nasi tapi perbanyak lauk protein (Ikan/Tahu) dan sayur kukus lunak." },
          { title: "Disiplin Hidrasi", description: "Lansia sering kehilangan rasa haus. Buat jadwal minum air 6-8 gelas sehari walau tidak haus." },
          { title: "Vitamin B12 & Kalsium", description: "Penyerapan perut menurun. Pertimbangkan makanan fortifikasi atau suplemen B12 untuk kesehatan saraf." },
          { title: "Tekstur Makanan", description: "Jika mengunyah sulit, buat jus buah/sayur atau bubur saring. Jangan korbankan nutrisi karena masalah gigi." },
          { title: "Kurangi Lemak Jenuh", description: "Batasi santan dan gorengan untuk menjaga pembuluh darah tetap elastis dan mencegah stroke." }
        ]
      }
    };

    // --- 3. UI LOGIC ---
    const categories = [
      { id: 'anak', name: 'Anak-anak', icon: 'fa-child' },
      { id: 'remaja', name: 'Remaja', icon: 'fa-user-graduate' },
      { id: 'dewasa', name: 'Dewasa', icon: 'fa-user-tie' },
      { id: 'tua', name: 'Lansia', icon: 'fa-user-plus' }
    ];

    const cardContainer = document.getElementById('age-cards');
    const emptyState = document.getElementById('empty-state');
    const roadmapSection = document.getElementById('roadmap');
    const roadmapTitle = document.getElementById('roadmap-title');
    const roadmapSteps = document.getElementById('roadmap-steps');
    const sourceCitation = document.getElementById('source-citation');

    // Generate Cards
    categories.forEach(cat => {
      const btn = document.createElement('button');
      btn.className = `
        group flex flex-col items-center justify-center p-6 rounded-xl transition-all duration-300
        bg-white border border-green-200 hover:border-lime-400 hover:shadow-lg hover:shadow-lime-100 hover:-translate-y-1
        focus:outline-none
      `;
      btn.innerHTML = `
        <div class="w-14 h-14 rounded-full bg-green-50 text-green-600 flex items-center justify-center text-2xl mb-3 group-hover:bg-lime-400 group-hover:text-white transition-colors">
          <i class="fas ${cat.icon}"></i>
        </div>
        <span class="font-semibold text-gray-700 group-hover:text-green-700">${cat.name}</span>
      `;
      
      btn.addEventListener('click', () => selectCategory(cat.id, btn));
      cardContainer.appendChild(btn);
    });

    function selectCategory(id, clickedBtn) {
      // Reset Style
      const allBtns = cardContainer.querySelectorAll('button');
      allBtns.forEach(b => {
        b.className = `group flex flex-col items-center justify-center p-6 rounded-xl transition-all duration-300 bg-white border border-green-200 hover:border-lime-400 hover:shadow-lg hover:shadow-lime-100 hover:-translate-y-1 focus:outline-none`;
        b.querySelector('div').className = "w-14 h-14 rounded-full bg-green-50 text-green-600 flex items-center justify-center text-2xl mb-3 group-hover:bg-lime-400 group-hover:text-white transition-colors";
        b.querySelector('span').className = "font-semibold text-gray-700 group-hover:text-green-700";
      });

      // Active Style
      clickedBtn.className = `flex flex-col items-center justify-center p-6 rounded-xl transition-all duration-300 bg-green-600 border-2 border-lime-400 shadow-xl transform scale-105 focus:outline-none`;
      clickedBtn.querySelector('div').className = "w-14 h-14 rounded-full bg-white text-green-600 flex items-center justify-center text-2xl mb-3";
      clickedBtn.querySelector('span').className = "font-bold text-white";

      // Show Roadmap
      emptyState.classList.add('hidden');
      roadmapSection.classList.remove('hidden');

      // Populate Data
      const data = roadmaps[id];
      roadmapTitle.innerText = data.title;
      sourceCitation.innerText = data.source;

      roadmapSteps.innerHTML = '';
      data.steps.forEach((step, index) => {
        const isLeft = index % 2 === 0;
        
        // MODIFIKASI JS DISINI: Menggunakan logic responsif (Mobile First)
        // Di HP: Selalu lurus (tidak reverse). Di Desktop (md): Mengikuti logic isLeft.
        
        const stepHtml = `
          <div class="flex md:items-center w-full ${isLeft ? '' : 'md:flex-row-reverse'} group relative">
            
            <div class="hidden md:block md:w-6/12"></div>
            
            <div class="absolute left-[20px] -translate-x-1/2 md:static md:translate-x-0 z-20 flex items-center justify-center w-8 h-8 bg-green-600 border-4 border-lime-300 rounded-full shadow flex-shrink-0">
              <span class="text-xs font-bold text-white md:hidden">${index+1}</span>
            </div>
            
            <div class="w-full md:w-6/12 pl-12 md:pl-0 ${isLeft ? 'md:pr-10 md:text-right' : 'md:pl-10 md:text-left'}">
              <div class="bg-white p-5 rounded-lg border-l-4 ${isLeft ? 'border-green-500' : 'border-lime-500'} shadow-md hover:shadow-xl transition-shadow duration-300">
                <h4 class="font-bold text-lg text-green-700 mb-2">${step.title}</h4>
                <p class="text-gray-600 text-sm leading-relaxed">${step.description}</p>
              </div>
            </div>

          </div>
        `;
        roadmapSteps.insertAdjacentHTML('beforeend', stepHtml);
      });

      roadmapSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }
  </script>
</body>

</html>